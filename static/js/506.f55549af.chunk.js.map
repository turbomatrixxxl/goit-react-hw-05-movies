{"version":3,"file":"static/js/506.f55549af.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/common/Alert/Alert.module.css?1544","components/common/Alert/index.js","components/common/Alert/Alert.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","pages/MovieDetails/index.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"alert\":\"Alert_alert__njX-k\"};","import Alert from './Alert';\n\nexport default Alert;\n","import React from 'react';\n\nimport styles from './Alert.module.css';\n\nexport default function Alert({ message }) {\n  return <p className={styles.alert}>{message}</p>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"mainMovieContainer\":\"MovieDetails_mainMovieContainer__P7zgo\",\"mainMovieLeftContainer\":\"MovieDetails_mainMovieLeftContainer__Z1RjQ\",\"backButton\":\"MovieDetails_backButton__pPF5M\",\"movieTitle\":\"MovieDetails_movieTitle__0CAOT\",\"movieScore\":\"MovieDetails_movieScore__UQXpa\",\"movieTitleOverwiew\":\"MovieDetails_movieTitleOverwiew__mnhUb\",\"overwiewDescription\":\"MovieDetails_overwiewDescription__vOkoi\",\"movieTitleGenres\":\"MovieDetails_movieTitleGenres__0i8Ub\",\"genresList\":\"MovieDetails_genresList__2o809\",\"movieLinksContainer\":\"MovieDetails_movieLinksContainer__oSSjc\",\"linksTitle\":\"MovieDetails_linksTitle__m6Gsh\",\"link\":\"MovieDetails_link__U+v+7\"};","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link, Outlet, useNavigate, useParams } from 'react-router-dom';\nimport { HiBackward } from 'react-icons/hi2';\n\nimport { apiKey } from 'services/api';\nimport axios from 'axios';\nimport LoadingPage from 'pages/LoadingPage';\nimport Alert from 'components/common/Alert';\n\nimport styles from './MovieDetails.module.css';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport default function MovieDetails() {\n  const [loading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movie, setMovie] = useState([]);\n  const [genre, setGenre] = useState('');\n  const [date, setDate] = useState('');\n\n  //   const location = useLocation();\n  //   console.log(location);\n  //   console.log(location.state.from);\n\n  const navigate = useNavigate();\n  const { movieId } = useParams();\n\n  // const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const response = await axios.get(\n          `/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`\n        );\n\n        const movieDetails = response.data;\n\n        // console.log(movieDetails);\n\n        const movieGenres = movieDetails.genres.map(genre => {\n          return (\n            <li key={genre.id} className={styles.genresListItem}>\n              {genre.name}\n            </li>\n          );\n        });\n\n        const date = new Date(movieDetails.release_date).getFullYear();\n\n        setDate(date);\n        setGenre(movieGenres);\n        setMovie(movieDetails);\n        setError(null);\n      } catch (error) {\n        console.log(error.message);\n        setError(\"Sorry ! The movies can't be found !\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [movieId]);\n\n  //   console.log(movie);\n\n  const imagePath = `http://image.tmdb.org/t/p/w500${movie.backdrop_path}`;\n\n  //   console.log(genre);\n\n  //   console.log(date);\n\n  function handleBack() {\n    navigate(-1);\n  }\n\n  return (\n    <main>\n      {loading && <LoadingPage />}\n\n      {error && <Alert message={error} />}\n\n      {(movie.length > 0 || movie !== null || movie !== undefined) && (\n        <>\n          {' '}\n          <div className={styles.mainMovieContainer}>\n            <div className={styles.mainMovieLeftContainer}>\n              <button\n                className={styles.backButton}\n                onClick={handleBack}\n                type=\"button\"\n              >\n                <span>\n                  <HiBackward />\n                </span>\n                Go back\n              </button>\n\n              <img\n                className={styles.movieImage}\n                src={imagePath}\n                alt=\"Movie Poster\"\n              />\n            </div>\n            <div className={styles.mainMovieRightContainer}>\n              <h3 className={styles.movieTitle}>\n                {movie.title}({date})\n              </h3>\n              <p className={styles.movieScore}>\n                User score {Math.trunc(movie.vote_average * 10)}%\n              </p>\n              <h4 className={styles.movieTitleOverwiew}>Overwiew</h4>\n              <p className={styles.overwiewDescription}>{movie.overview}</p>\n              <p className={styles.movieTitleGenres}>\n                <b>Genres</b>\n              </p>\n              <ul className={styles.genresList}>{genre}</ul>\n            </div>\n          </div>\n          <div className={styles.movieLinksContainer}>\n            <p className={styles.linksTitle}>Additional information</p>\n            <ul>\n              <li>\n                <Link\n                  className={styles.link}\n                  to=\"cast\"\n                  //   state={{ from: location.state }}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  className={styles.link}\n                  to=\"reviews\"\n                  //   state={{ from: location.state }}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </div>\n          <Outlet />\n        </>\n      )}\n    </main>\n  );\n}\n\nMovieDetails.propTypes = {\n  loading: PropTypes.bool,\n  movie: PropTypes.array,\n  genre: PropTypes.string,\n  date: PropTypes.string,\n  handleBack: PropTypes.func,\n};\n","import MovieDetails from './MovieDetails';\n\nexport default MovieDetails;\n","// services/api.js\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const apiKey = '90080ff184cabebdf1b42eaa88fb5738';\n\nexport const trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?language=en-US`;\n\nexport const fetchMoviesWithQuery = searchQuery => {\n  const response = axios.get(\n    `/${searchQuery}?&api_key=${apiKey}&language=en-US`\n  );\n  console.log(response.data.results);\n  console.log(fetchMoviesWithQuery);\n\n  return response.data.results;\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchMoviesWithQuery,\n};\n"],"names":["_ref","message","_jsx","className","styles","children","axios","_useState","useState","_useState2","_slicedToArray","loading","setIsLoading","_useState3","_useState4","error","setError","_useState5","_useState6","movie","setMovie","_useState7","_useState8","genre","setGenre","_useState9","_useState10","date","setDate","navigate","useNavigate","movieId","useParams","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","response","movieDetails","movieGenres","_date","_context","prev","next","concat","apiKey","sent","data","genres","map","name","id","Date","release_date","getFullYear","t0","console","log","finish","stop","apply","arguments","imagePath","backdrop_path","_jsxs","LoadingPage","Alert","length","undefined","_Fragment","onClick","type","HiBackward","src","alt","title","Math","trunc","vote_average","overview","Link","to","Outlet"],"sourceRoot":""}