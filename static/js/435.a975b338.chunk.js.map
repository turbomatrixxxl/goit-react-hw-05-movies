{"version":3,"file":"static/js/435.a975b338.chunk.js","mappings":"gRACA,GAAiB,E,SCSjBA,EAAAA,EAAAA,SAAAA,QAAyB,+BCRzB,MDUe,WACb,IAAAC,GAAgCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxCI,EAAOF,EAAA,GAAEG,EAAYH,EAAA,GAC5BI,GAA0BL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA8BT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAnCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA4Bb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAOhBG,GAAYC,EAAAA,EAAAA,MAAZD,QA2CR,OAvCAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAJ,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEK,OAFLF,EAAAC,KAAA,EAEdzB,GAAa,GAAMwB,EAAAE,KAAA,EACIhC,EAAAA,EAAAA,IAAU,UAADiC,OACpBd,EAAO,sBAAAc,OAAqBC,EAAAA,GAAM,2BAC5C,KAAD,EAFKP,EAAQG,EAAAK,KAIRP,EAAeD,EAASS,KAAKC,QAI7BR,EAAeD,EAAaU,KAAI,SAACrB,EAAQsB,GAC7C,OACEC,EAAAA,EAAAA,MAAA,MAAgBC,UAAWC,EAAAA,SAAgBC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAAA,aAAoBC,SAAE1B,EAAOA,UAC5C2B,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAAA,kBAAyBC,SAAE1B,EAAO4B,YAFzCN,EAKb,IAEArB,EAAUW,GACVf,EAAWc,GACXlB,EAAS,MAAMoB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAgB,GAAAhB,EAAA,SAEfiB,QAAQC,IAAIlB,EAAAgB,GAAMG,SAClBvC,EAAS,8CAA8C,QAEnC,OAFmCoB,EAAAC,KAAA,GAEvDzB,GAAa,GAAOwB,EAAAoB,OAAA,6BAAApB,EAAAqB,OAAA,GAAAzB,EAAA,yBAEvB,kBA7Bc,OAAAH,EAAA6B,MAAA,KAAAC,UAAA,KA+Bf/B,GACF,GAAG,CAACH,KAOFqB,EAAAA,EAAAA,MAAA,QAAAG,SAAA,CACGtC,IAAWuC,EAAAA,EAAAA,KAACU,EAAAA,EAAW,IAEvB7C,IAASmC,EAAAA,EAAAA,KAACW,EAAAA,EAAK,CAACN,QAASxC,KAEL,IAAnBI,EAAQ2C,QAA4B,OAAZ3C,QAAgC4C,IAAZ5C,KAC5C+B,EAAAA,EAAAA,KAAA,KAAGc,MAAO,CAAEC,MAAO,OAAQhB,SAAC,sDAK5B9B,EAAQ2C,OAAS,GAAiB,OAAZ3C,QAAgC4C,IAAZ5C,KAC1C+B,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAAA,KAAYC,SAAE1B,MAIrC,C,iEElFA,EAAwB,qB,SCCxB,MCEe,SAAcM,GAAe,IAAZ0B,EAAO1B,EAAP0B,QAC9B,OAAOL,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAaC,SAAEM,GACtC,C,mECHAjD,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAMkC,EAAS,kC","sources":["components/MovieReviews/MovieRewiews.module.css","components/MovieReviews/MovieReviews.jsx","components/MovieReviews/index.js","webpack://goit-react-hw-05-movies/./src/components/common/Alert/Alert.module.css?1544","components/common/Alert/index.js","components/common/Alert/Alert.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { apiKey } from 'services/api';\nimport LoadingPage from 'pages/LoadingPage';\nimport Alert from 'components/common/Alert';\n\nimport styles from './MovieRewiews.module.css';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport default function MovieReviews() {\n  const [loading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [author, setAuthor] = useState([]);\n\n  // const location = useLocation();\n  // console.log(location);\n  // console.log(location.state.from);\n\n  //  const navigate = useNavigate();\n  const { movieId } = useParams();\n\n  // const castApi = `https://api.themoviedb.org/3/movie/${movieId}/credits?&api_key=${apiKey}&language=en-US&page=1`;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const response = await axios.get(\n          `/movie/${movieId}/reviews?&api_key=${apiKey}&language=en-US&page=1`\n        );\n\n        const movieReviews = response.data.results;\n\n        // console.log(movieReviews);\n\n        const authorReview = movieReviews.map((author, index) => {\n          return (\n            <li key={index} className={styles.listItem}>\n              <h3 className={styles.listItemName}>{author.author}</h3>\n              <p className={styles.listItemCharacter}>{author.content}</p>\n            </li>\n          );\n        });\n\n        setAuthor(authorReview);\n        setReviews(movieReviews);\n        setError(null);\n      } catch (error) {\n        console.log(error.message);\n        setError(\"Sorry ! The movie reviews can't be found !\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [movieId]);\n\n  //   console.log(movie);\n\n  // const imagePath = `http://image.tmdb.org/t/p/w500${movie.backdrop_path}`;\n\n  return (\n    <main>\n      {loading && <LoadingPage />}\n\n      {error && <Alert message={error} />}\n\n      {(reviews.length === 0 || reviews === null || reviews === undefined) && (\n        <p style={{ color: 'red' }}>\n          Sorry, there are no reviews yet for this movie !\n        </p>\n      )}\n\n      {(reviews.length > 0 || reviews !== null || reviews !== undefined) && (\n        <ul className={styles.list}>{author}</ul>\n      )}\n    </main>\n  );\n}\n\nMovieReviews.propTypes = {\n  loading: PropTypes.bool,\n  reviews: PropTypes.array,\n  author: PropTypes.array,\n};\n","import MovieReviews from './MovieReviews';\n\nexport default MovieReviews;\n","// extracted by mini-css-extract-plugin\nexport default {\"alert\":\"Alert_alert__njX-k\"};","import Alert from './Alert';\n\nexport default Alert;\n","import React from 'react';\n\nimport styles from './Alert.module.css';\n\nexport default function Alert({ message }) {\n  return <p className={styles.alert}>{message}</p>;\n}\n","// services/api.js\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const apiKey = '90080ff184cabebdf1b42eaa88fb5738';\n\nexport const trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?language=en-US`;\n\nexport const fetchMoviesWithQuery = searchQuery => {\n  const response = axios.get(\n    `/${searchQuery}?&api_key=${apiKey}&language=en-US`\n  );\n  console.log(response.data.results);\n  console.log(fetchMoviesWithQuery);\n\n  return response.data.results;\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchMoviesWithQuery,\n};\n"],"names":["axios","_useState","useState","_useState2","_slicedToArray","loading","setIsLoading","_useState3","_useState4","error","setError","_useState5","_useState6","reviews","setReviews","_useState7","_useState8","author","setAuthor","movieId","useParams","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","movieReviews","authorReview","_context","prev","next","concat","apiKey","sent","data","results","map","index","_jsxs","className","styles","children","_jsx","content","t0","console","log","message","finish","stop","apply","arguments","LoadingPage","Alert","length","undefined","style","color"],"sourceRoot":""}