{"version":3,"file":"static/js/608.b6b3a816.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/common/Alert/Alert.module.css?1544","components/common/Alert/index.js","components/common/Alert/Alert.jsx","webpack://goit-react-hw-05-movies/./src/components/common/MovieItem/MovieItem.module.css?b247","components/common/MovieItem/index.js","components/common/MovieItem/MovieItem.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/index.js","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"alert\":\"Alert_alert__njX-k\"};","import Alert from './Alert';\n\nexport default Alert;\n","import React from 'react';\n\nimport styles from './Alert.module.css';\n\nexport default function Alert({ message }) {\n  return <p className={styles.alert}>{message}</p>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieItem_link__9v1yn\"};","import MovieItem from './MovieItem';\n\nexport default MovieItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link } from 'react-router-dom';\n\nimport styles from './MovieItem.module.css';\n\nexport default function MovieItem({ movieList }) {\n  // const location = useLocation();\n  // console.log(location);\n\n  return movieList.map(movie => {\n    // console.log(movie);\n\n    return (\n      <li key={movie.id}>\n        <Link\n          className={styles.link}\n          to={`${movie.id}`}\n          // state={{ from: location }}\n        >\n          {movie.title}\n        </Link>\n      </li>\n    );\n  });\n}\n\nMovieItem.propTypes = {\n  movieList: PropTypes.array,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\"};","import Movies from './Movies';\n\nexport default Movies;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { apiKey } from 'services/api';\nimport MovieItem from 'components/common/MovieItem';\nimport LoadingPage from 'pages/LoadingPage';\nimport Alert from 'components/common/Alert';\n\nimport styles from './Movies.module.css';\n\nexport default function Movies() {\n  const [loading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movies, setMovies] = useState([]);\n  const [searchtherm, setSearchtherm] = useState('');\n\n  axios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n  //   const searchUrl = 'https://api.themoviedb.org/3/search/movie?query=batman&include_adult=false&language=en-US&page=1';\n\n  useEffect(() => setSearchtherm(''), []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      //   if (searchtherm === '') {\n      //     return;\n      //   }\n      try {\n        setIsLoading(true);\n        const response = await axios.get(\n          `/search/movie?query=${searchtherm}&api_key=${apiKey}&include_adult=false&language=en-US&page=1`\n        );\n        // console.log(response.data);\n        const moviesList = response.data.results;\n\n        // const moviesList = await api.fetchMoviesWithQuery(`trending/movie/day`);\n\n        // console.log(moviesList);\n\n        // localStorage.setItem('moviesList', JSON.stringify(moviesList));\n\n        setMovies(moviesList);\n        setError(null);\n      } catch (error) {\n        console.log(error.message);\n        setError(\n          'Sorry ! There are no movies with this searchtherm ! Please try again !'\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [searchtherm]);\n\n  function handleSubmit(ev) {\n    ev.preventDefault();\n\n    const form = ev.target;\n    // console.log(form.elements.searchTherm.value);\n\n    setSearchtherm(form.elements.searchTherm.value);\n\n    console.log(searchtherm);\n\n    form.reset();\n  }\n\n  return (\n    <main>\n      {loading && <LoadingPage />}\n\n      {error && <Alert message={error} />}\n\n      <form onSubmit={handleSubmit} className={styles.form}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          name=\"searchTherm\"\n          //   value={searchtherm}\n        />\n        <button className={styles.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {movies.length > 0 && (\n        <ul className={styles.list}>\n          <MovieItem movieList={movies} />\n        </ul>\n      )}\n    </main>\n  );\n}\n\nMovies.propTypes = {\n  handleSubmit: PropTypes.func,\n};\n","// services/api.js\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const apiKey = '90080ff184cabebdf1b42eaa88fb5738';\n\nexport const trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?language=en-US`;\n\nexport const fetchMoviesWithQuery = searchQuery => {\n  const response = axios.get(\n    `/${searchQuery}?&api_key=${apiKey}&language=en-US`\n  );\n  console.log(response.data.results);\n  console.log(fetchMoviesWithQuery);\n\n  return response.data.results;\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchMoviesWithQuery,\n};\n"],"names":["_ref","message","_jsx","className","styles","children","movieList","map","movie","Link","to","concat","id","title","_useState","useState","_useState2","_slicedToArray","loading","setIsLoading","_useState3","_useState4","error","setError","_useState5","_useState6","movies","setMovies","_useState7","_useState8","searchtherm","setSearchtherm","axios","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","response","moviesList","_context","prev","next","apiKey","sent","data","results","t0","console","log","finish","stop","apply","arguments","_jsxs","LoadingPage","Alert","onSubmit","ev","preventDefault","form","target","elements","searchTherm","value","reset","type","name","length","MovieItem"],"sourceRoot":""}